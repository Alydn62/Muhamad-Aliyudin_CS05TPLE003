let currentRow = null; // Variabel untuk menyimpan baris yang sedang diedit

// Event listener untuk tombol Edit
document.querySelectorAll('.editBtn').forEach(button => {
  button.addEventListener('click', function() {
    const row = this.closest('tr'); // Baris yang dipilih
    currentRow = row; // Simpan baris yang akan diedit

    // Ambil data dari baris
    const nama = row.children[2].textContent;
    const email = row.children[3].textContent;
    const alamat = row.children[4].textContent;
    const kode = row.children[1].textContent;

    // Masukkan data ke form modal
    document.getElementById('editNamaLengkap').value = nama;
    document.getElementById('editEmailKaryawan').value = email;
    document.getElementById('editAlamatKaryawan').value = alamat;
    document.getElementById('editKodeJabatan').value = kode;

    // Tampilkan modal
    $('#editEmployeeModal').modal('show');
  });
});

// Event listener untuk menyimpan perubahan pada tombol Simpan di form Edit
document.getElementById('editEmployeeForm').addEventListener('submit', function(event) {
  event.preventDefault();

  // Ambil data baru dari form edit
  const namaBaru = document.getElementById('editNamaLengkap').value;
  const emailBaru = document.getElementById('editEmailKaryawan').value;
  const alamatBaru = document.getElementById('editAlamatKaryawan').value;
  const jabatanBaru = document.querySelector('#editKodeJabatan option:checked').text;

  // Perbarui data di baris yang sedang diedit
  if (currentRow) {
    currentRow.cells[2].textContent = namaBaru;
    currentRow.cells[3].textContent = emailBaru;
    currentRow.cells[4].textContent = alamatBaru;
    currentRow.cells[5].textContent = jabatanBaru;
  }

  // Tutup modal
  $('#editEmployeeModal').modal('hide');
});
